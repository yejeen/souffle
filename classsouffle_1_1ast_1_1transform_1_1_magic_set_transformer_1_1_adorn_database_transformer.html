<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>souffle: souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">souffle
   &#160;<span id="projectnumber">8dcff60</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacesouffle.html">souffle</a></li><li class="navelem"><a class="el" href="namespacesouffle_1_1ast.html">ast</a></li><li class="navelem"><a class="el" href="namespacesouffle_1_1ast_1_1transform.html">transform</a></li><li class="navelem"><a class="el" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer.html">MagicSetTransformer</a></li><li class="navelem"><a class="el" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html">AdornDatabaseTransformer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Database adornment.  
 <a href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_magic_set_8h_source.html">MagicSet.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer:</div>
<div class="dyncontent">
<div class="center"><img src="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer__inherit__graph.png" border="0" usemap="#souffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_inherit__map" alt="Inheritance graph"/></div>
<map name="souffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_inherit__map" id="souffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_inherit__map">
<area shape="rect" id="node2" href="classsouffle_1_1ast_1_1transform_1_1_transformer.html" title="{souffle::ast::transform\l::Transformer\n||+ apply()\l+ clone()\l+ getName()\l+ ~Transformer()\l&#45; transform()\l}" alt="" coords="26,5,193,156"/>
</map>
</div>
<div class="dynheader">
Collaboration diagram for souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer:</div>
<div class="dyncontent">
<div class="center"><img src="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer__coll__graph.png" border="0" usemap="#souffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_coll__map" alt="Collaboration graph"/></div>
<map name="souffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_coll__map" id="souffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_coll__map">
<area shape="rect" id="node2" href="classsouffle_1_1ast_1_1transform_1_1_transformer.html" title="{souffle::ast::transform\l::Transformer\n||+ apply()\l+ clone()\l+ getName()\l+ ~Transformer()\l&#45; transform()\l}" alt="" coords="5,5,172,156"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:afce17ca53a83425e2a7e2fcb48011f28"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html">AdornDatabaseTransformer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#afce17ca53a83425e2a7e2fcb48011f28">clone</a> () const override</td></tr>
<tr class="separator:afce17ca53a83425e2a7e2fcb48011f28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cd10cb73eace892d3b4ee133e867d0b"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a4cd10cb73eace892d3b4ee133e867d0b">getName</a> () const override</td></tr>
<tr class="separator:a4cd10cb73eace892d3b4ee133e867d0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classsouffle_1_1ast_1_1transform_1_1_transformer"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classsouffle_1_1ast_1_1transform_1_1_transformer')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classsouffle_1_1ast_1_1transform_1_1_transformer.html">souffle::ast::transform::Transformer</a></td></tr>
<tr class="memitem:aa2a19006120091a83d662c3cfb56b528 inherit pub_methods_classsouffle_1_1ast_1_1transform_1_1_transformer"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsouffle_1_1ast_1_1transform_1_1_transformer.html#aa2a19006120091a83d662c3cfb56b528">apply</a> (<a class="el" href="classsouffle_1_1ast_1_1_translation_unit.html">TranslationUnit</a> &amp;translationUnit)</td></tr>
<tr class="separator:aa2a19006120091a83d662c3cfb56b528 inherit pub_methods_classsouffle_1_1ast_1_1transform_1_1_transformer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa625c305cc624b42b2829d67ccf44a44 inherit pub_methods_classsouffle_1_1ast_1_1transform_1_1_transformer"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsouffle_1_1ast_1_1transform_1_1_transformer.html#aa625c305cc624b42b2829d67ccf44a44">~Transformer</a> ()=default</td></tr>
<tr class="separator:aa625c305cc624b42b2829d67ccf44a44 inherit pub_methods_classsouffle_1_1ast_1_1transform_1_1_transformer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:aef63f4fb7a27cc8fff68ec23b1a1b20b"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#aef63f4fb7a27cc8fff68ec23b1a1b20b">adorned_predicate</a> = std::pair&lt; <a class="el" href="classsouffle_1_1ast_1_1_qualified_name.html">QualifiedName</a>, std::string &gt;</td></tr>
<tr class="separator:aef63f4fb7a27cc8fff68ec23b1a1b20b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:abb423f140403e34a6dad53750c28678d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesouffle.html#a767cede450719b5b1633f12b038c7d61">Own</a>&lt; <a class="el" href="classsouffle_1_1ast_1_1_clause.html">Clause</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#abb423f140403e34a6dad53750c28678d">adornClause</a> (const <a class="el" href="classsouffle_1_1ast_1_1_clause.html">Clause</a> *clause, const std::string &amp;adornmentMarker)</td></tr>
<tr class="memdesc:abb423f140403e34a6dad53750c28678d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the adorned version of a clause.  <a href="#abb423f140403e34a6dad53750c28678d">More...</a><br /></td></tr>
<tr class="separator:abb423f140403e34a6dad53750c28678d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58b67a81848bf026578a66d19c602179"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a58b67a81848bf026578a66d19c602179">hasAdornmentToProcess</a> () const</td></tr>
<tr class="memdesc:a58b67a81848bf026578a66d19c602179"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if any more relations need to be adorned.  <a href="#a58b67a81848bf026578a66d19c602179">More...</a><br /></td></tr>
<tr class="separator:a58b67a81848bf026578a66d19c602179"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f911275a3c48b13a0ab2dfe92b39f2a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#aef63f4fb7a27cc8fff68ec23b1a1b20b">adorned_predicate</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a8f911275a3c48b13a0ab2dfe92b39f2a">nextAdornmentToProcess</a> ()</td></tr>
<tr class="memdesc:a8f911275a3c48b13a0ab2dfe92b39f2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pop off the next predicate adornment to process.  <a href="#a8f911275a3c48b13a0ab2dfe92b39f2a">More...</a><br /></td></tr>
<tr class="separator:a8f911275a3c48b13a0ab2dfe92b39f2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91474ac54d4c06edd4e9c356754be64d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a91474ac54d4c06edd4e9c356754be64d">queueAdornment</a> (const <a class="el" href="classsouffle_1_1ast_1_1_qualified_name.html">QualifiedName</a> &amp;relName, const std::string &amp;adornmentMarker)</td></tr>
<tr class="memdesc:a91474ac54d4c06edd4e9c356754be64d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an adornment to the ToDo queue if it hasn't been processed before.  <a href="#a91474ac54d4c06edd4e9c356754be64d">More...</a><br /></td></tr>
<tr class="separator:a91474ac54d4c06edd4e9c356754be64d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7efe0a44a1d0e6ca5c14dc2e7dcc799d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a7efe0a44a1d0e6ca5c14dc2e7dcc799d">transform</a> (<a class="el" href="classsouffle_1_1ast_1_1_translation_unit.html">TranslationUnit</a> &amp;translationUnit) override</td></tr>
<tr class="separator:a7efe0a44a1d0e6ca5c14dc2e7dcc799d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a959ff85116ffe0675fa074db9c6570ba"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classsouffle_1_1ast_1_1_qualified_name.html">QualifiedName</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a959ff85116ffe0675fa074db9c6570ba">getAdornmentID</a> (const <a class="el" href="classsouffle_1_1ast_1_1_qualified_name.html">QualifiedName</a> &amp;relName, const std::string &amp;adornmentMarker)</td></tr>
<tr class="memdesc:a959ff85116ffe0675fa074db9c6570ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the unique identifier corresponding to an adorned predicate.  <a href="#a959ff85116ffe0675fa074db9c6570ba">More...</a><br /></td></tr>
<tr class="separator:a959ff85116ffe0675fa074db9c6570ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a74098563eb90e3c42d0d7002cf6fa609"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesouffle.html#a55306936a26a282cf03c7876fcf23494">VecOwn</a>&lt; <a class="el" href="classsouffle_1_1ast_1_1_clause.html">Clause</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a74098563eb90e3c42d0d7002cf6fa609">adornedClauses</a></td></tr>
<tr class="separator:a74098563eb90e3c42d0d7002cf6fa609"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1186d30e31d9c8d4d9ddc094cbc3d309"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="classsouffle_1_1ast_1_1_qualified_name.html">QualifiedName</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a1186d30e31d9c8d4d9ddc094cbc3d309">headAdornmentsSeen</a></td></tr>
<tr class="separator:a1186d30e31d9c8d4d9ddc094cbc3d309"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f0234f544130428a4d7d234e96e1686"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#aef63f4fb7a27cc8fff68ec23b1a1b20b">adorned_predicate</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a5f0234f544130428a4d7d234e96e1686">headAdornmentsToDo</a></td></tr>
<tr class="separator:a5f0234f544130428a4d7d234e96e1686"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7edd5be961e62ac31723c9affbbf9e58"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesouffle.html#a55306936a26a282cf03c7876fcf23494">VecOwn</a>&lt; <a class="el" href="classsouffle_1_1ast_1_1_clause.html">Clause</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a7edd5be961e62ac31723c9affbbf9e58">redundantClauses</a></td></tr>
<tr class="separator:a7edd5be961e62ac31723c9affbbf9e58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4fbffffbeda35f409562c1e32b4e6f8"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="classsouffle_1_1ast_1_1_qualified_name.html">QualifiedName</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#aa4fbffffbeda35f409562c1e32b4e6f8">relationsToIgnore</a></td></tr>
<tr class="separator:aa4fbffffbeda35f409562c1e32b4e6f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Database adornment. </p>
<p>Adorns the rules of a database with variable flow and binding information. Prerequisite for the magic set transformation. </p>

<p class="definition">Definition at line <a class="el" href="_magic_set_8h_source.html#l00207">207</a> of file <a class="el" href="_magic_set_8h_source.html">MagicSet.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="aef63f4fb7a27cc8fff68ec23b1a1b20b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef63f4fb7a27cc8fff68ec23b1a1b20b">&#9670;&nbsp;</a></span>adorned_predicate</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#aef63f4fb7a27cc8fff68ec23b1a1b20b">souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer::adorned_predicate</a> =  std::pair&lt;<a class="el" href="classsouffle_1_1ast_1_1_qualified_name.html">QualifiedName</a>, std::string&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_magic_set_8h_source.html#l00218">218</a> of file <a class="el" href="_magic_set_8h_source.html">MagicSet.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="abb423f140403e34a6dad53750c28678d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb423f140403e34a6dad53750c28678d">&#9670;&nbsp;</a></span>adornClause()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesouffle.html#a767cede450719b5b1633f12b038c7d61">Own</a>&lt; <a class="el" href="classsouffle_1_1ast_1_1_clause.html">Clause</a> &gt; souffle::ast::transform::AdornDatabaseTransformer::adornClause </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classsouffle_1_1ast_1_1_clause.html">Clause</a> *&#160;</td>
          <td class="paramname"><em>clause</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>adornmentMarker</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the adorned version of a clause. </p>

<p class="definition">Definition at line <a class="el" href="_magic_set_8cpp_source.html#l00517">517</a> of file <a class="el" href="_magic_set_8cpp_source.html">MagicSet.cpp</a>.</p>

<p class="reference">References <a class="el" href="_binding_store_8h_source.html#l00040">souffle::ast::BindingStore::bindVariableStrongly()</a>, <a class="el" href="_binding_store_8h_source.html#l00052">souffle::ast::BindingStore::bindVariableWeakly()</a>, <a class="el" href="_container_util_8h_source.html#l00166">souffle::clone()</a>, <a class="el" href="_container_util_8h_source.html#l00069">souffle::contains()</a>, <a class="el" href="_atom_8h_source.html#l00071">souffle::ast::Atom::getArguments()</a>, <a class="el" href="_clause_8h_source.html#l00073">souffle::ast::Clause::getBodyLiterals()</a>, <a class="el" href="_clause_8h_source.html#l00078">souffle::ast::Clause::getExecutionPlan()</a>, <a class="el" href="_clause_8h_source.html#l00068">souffle::ast::Clause::getHead()</a>, <a class="el" href="_atom_8h_source.html#l00051">souffle::ast::Atom::getQualifiedName()</a>, <a class="el" href="json11_8h_source.html#l00663">i</a>, and <a class="el" href="_binding_store_8h_source.html#l00057">souffle::ast::BindingStore::isBound()</a>.</p>
<div class="fragment"><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                                                                                                        {</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; relName = clause-&gt;getHead()-&gt;getQualifiedName();</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; headArgs = clause-&gt;getHead()-&gt;getArguments();</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    BindingStore variableBindings(clause);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="comment">/* Note that variables can be bound through:</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment">     *  (1) an appearance in a body atom (strong)</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="comment">     *  (2) an appearance in a bound field of the head atom (weak)</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment">     *  (3) equality with a fully bound functor (via dependency analysis)</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="comment">     * When computing (3), appearances (1) and (2) must be separated to maintain the termination semantics of</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment">     * the original program. Functor variables are not considered bound if they are only bound via the head.</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="comment">     * Justification: Suppose a new variable Y is marked as bound because of its appearance in a functor</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment">     * Y=X+1, and X was already found to be bound:</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment">     *  (1) If X was bound through a body atom, then the behaviour of typical magic-set is exhibited, where</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment">     * the magic-set of Y is bounded by the values that X can take, which is bounded by induction.</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment">     *  (2) If X was bound only through the head atom, then Y is only fixed to an appearance in a magic-atom.</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment">     * In the presence of recursion, this can potentially lead to an infinitely-sized magic-set for an atom.</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment">     * Therefore, bound head atom vars should be marked as weakly bound.</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="json11_8h.html#ae46bd26d7133dfe98f8cec7c5ac5c7a1">i</a> = 0; <a class="code" href="json11_8h.html#ae46bd26d7133dfe98f8cec7c5ac5c7a1">i</a> &lt; adornmentMarker.length(); <a class="code" href="json11_8h.html#ae46bd26d7133dfe98f8cec7c5ac5c7a1">i</a>++) {</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span>* var = <span class="keyword">dynamic_cast&lt;</span>ast::Variable*<span class="keyword">&gt;</span>(headArgs[<a class="code" href="json11_8h.html#ae46bd26d7133dfe98f8cec7c5ac5c7a1">i</a>]);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        assert(var != <span class="keyword">nullptr</span> &amp;&amp; <span class="stringliteral">&quot;expected only variables in head&quot;</span>);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <span class="keywordflow">if</span> (adornmentMarker[<a class="code" href="json11_8h.html#ae46bd26d7133dfe98f8cec7c5ac5c7a1">i</a>] == <span class="charliteral">&#39;b&#39;</span>) {</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            variableBindings.bindVariableWeakly(var-&gt;getName());</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        }</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    }</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="comment">// Create the adorned clause with an empty body</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keyword">auto</span> adornedClause = mk&lt;Clause&gt;();</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="comment">// Copy over plans if needed</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordflow">if</span> (clause-&gt;getExecutionPlan() != <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        assert(<a class="code" href="namespacesouffle.html#af3295dd83a588d612cf777e600beac4a">contains</a>(<a class="code" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#aa4fbffffbeda35f409562c1e32b4e6f8">relationsToIgnore</a>, clause-&gt;getHead()-&gt;getQualifiedName()) &amp;&amp;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                <span class="stringliteral">&quot;clauses with plans should be ignored&quot;</span>);</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        adornedClause-&gt;setExecutionPlan(<a class="code" href="namespacesouffle.html#a1dd578fbaf92e67ee52ebdd8cf364584">souffle::clone</a>(clause-&gt;getExecutionPlan()));</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    }</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="comment">// Create the head atom</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keyword">auto</span> adornedHeadAtom = mk&lt;Atom&gt;(<a class="code" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a959ff85116ffe0675fa074db9c6570ba">getAdornmentID</a>(relName, adornmentMarker));</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    assert((adornmentMarker == <span class="stringliteral">&quot;&quot;</span> || headArgs.size() == adornmentMarker.length()) &amp;&amp;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            <span class="stringliteral">&quot;adornment marker should correspond to head atom variables&quot;</span>);</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>* arg : headArgs) {</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span>* var = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span>ast::Variable*<span class="keyword">&gt;</span>(arg);</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        assert(var != <span class="keyword">nullptr</span> &amp;&amp; <span class="stringliteral">&quot;expected only variables in head&quot;</span>);</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        adornedHeadAtom-&gt;addArgument(<a class="code" href="namespacesouffle.html#a1dd578fbaf92e67ee52ebdd8cf364584">souffle::clone</a>(var));</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    }</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    adornedClause-&gt;setHead(std::move(adornedHeadAtom));</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="comment">// Add in adorned body literals</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    std::vector&lt;Own&lt;Literal&gt;&gt; adornedBodyLiterals;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>* lit : clause-&gt;getBodyLiterals()) {</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span>* negation = dynamic_cast&lt;const Negation*&gt;(lit)) {</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            <span class="comment">// Negated atoms should not be adorned, but their clauses should be anyway</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span> negatedAtomName = negation-&gt;getAtom()-&gt;getQualifiedName();</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            assert(<a class="code" href="namespacesouffle.html#af3295dd83a588d612cf777e600beac4a">contains</a>(<a class="code" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#aa4fbffffbeda35f409562c1e32b4e6f8">relationsToIgnore</a>, negatedAtomName) &amp;&amp; <span class="stringliteral">&quot;negated atoms should not be adorned&quot;</span>);</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            <a class="code" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a91474ac54d4c06edd4e9c356754be64d">queueAdornment</a>(negatedAtomName, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        }</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <span class="keywordflow">if</span> (!isA&lt;Atom&gt;(lit)) {</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            <span class="comment">// Non-atoms are added directly</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            adornedBodyLiterals.push_back(<a class="code" href="namespacesouffle.html#a1dd578fbaf92e67ee52ebdd8cf364584">souffle::clone</a>(lit));</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        }</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span>* atom = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span>Atom*<span class="keyword">&gt;</span>(lit);</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        assert(atom != <span class="keyword">nullptr</span> &amp;&amp; <span class="stringliteral">&quot;expected atom&quot;</span>);</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        <span class="comment">// Form the appropriate adornment marker</span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        std::stringstream atomAdornment;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="namespacesouffle.html#af3295dd83a588d612cf777e600beac4a">contains</a>(<a class="code" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#aa4fbffffbeda35f409562c1e32b4e6f8">relationsToIgnore</a>, atom-&gt;getQualifiedName())) {</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>* arg : atom-&gt;getArguments()) {</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                <span class="keyword">const</span> <span class="keyword">auto</span>* var = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span>ast::Variable*<span class="keyword">&gt;</span>(arg);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                assert(var != <span class="keyword">nullptr</span> &amp;&amp; <span class="stringliteral">&quot;expected only variables in atom&quot;</span>);</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                atomAdornment &lt;&lt; (variableBindings.isBound(var-&gt;getName()) ? <span class="stringliteral">&quot;b&quot;</span> : <span class="stringliteral">&quot;f&quot;</span>);</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            }</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        }</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <span class="keyword">auto</span> currAtomAdornmentID = <a class="code" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a959ff85116ffe0675fa074db9c6570ba">getAdornmentID</a>(atom-&gt;getQualifiedName(), atomAdornment.str());</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <span class="comment">// Add to the ToDo queue if needed</span></div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <a class="code" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a91474ac54d4c06edd4e9c356754be64d">queueAdornment</a>(atom-&gt;getQualifiedName(), atomAdornment.str());</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <span class="comment">// Add the adorned version to the clause</span></div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="keyword">auto</span> adornedBodyAtom = <a class="code" href="namespacesouffle.html#a1dd578fbaf92e67ee52ebdd8cf364584">souffle::clone</a>(atom);</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        adornedBodyAtom-&gt;setQualifiedName(currAtomAdornmentID);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        adornedBodyLiterals.push_back(std::move(adornedBodyAtom));</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <span class="comment">// All arguments are now bound</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>* arg : atom-&gt;getArguments()) {</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span>* var = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span>ast::Variable*<span class="keyword">&gt;</span>(arg);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            assert(var != <span class="keyword">nullptr</span> &amp;&amp; <span class="stringliteral">&quot;expected only variables in atom&quot;</span>);</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            variableBindings.bindVariableStrongly(var-&gt;getName());</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        }</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    }</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    adornedClause-&gt;setBodyLiterals(std::move(adornedBodyLiterals));</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordflow">return</span> adornedClause;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;}</div><div class="ttc" id="namespacesouffle_html_af3295dd83a588d612cf777e600beac4a"><div class="ttname"><a href="namespacesouffle.html#af3295dd83a588d612cf777e600beac4a">souffle::contains</a></div><div class="ttdeci">bool contains(const C &amp;container, const typename C::value_type &amp;element)</div><div class="ttdoc">A utility to check generically whether a given element is contained in a given container. </div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00069">ContainerUtil.h:69</a></div></div>
<div class="ttc" id="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_html_a959ff85116ffe0675fa074db9c6570ba"><div class="ttname"><a href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a959ff85116ffe0675fa074db9c6570ba">souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer::getAdornmentID</a></div><div class="ttdeci">static QualifiedName getAdornmentID(const QualifiedName &amp;relName, const std::string &amp;adornmentMarker)</div><div class="ttdoc">Get the unique identifier corresponding to an adorned predicate. </div><div class="ttdef"><b>Definition:</b> <a href="_magic_set_8cpp_source.html#l00507">MagicSet.cpp:507</a></div></div>
<div class="ttc" id="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_html_a91474ac54d4c06edd4e9c356754be64d"><div class="ttname"><a href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a91474ac54d4c06edd4e9c356754be64d">souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer::queueAdornment</a></div><div class="ttdeci">void queueAdornment(const QualifiedName &amp;relName, const std::string &amp;adornmentMarker)</div><div class="ttdoc">Add an adornment to the ToDo queue if it hasn&amp;#39;t been processed before. </div><div class="ttdef"><b>Definition:</b> <a href="_magic_set_8h_source.html#l00233">MagicSet.h:233</a></div></div>
<div class="ttc" id="namespacesouffle_html_a1dd578fbaf92e67ee52ebdd8cf364584"><div class="ttname"><a href="namespacesouffle.html#a1dd578fbaf92e67ee52ebdd8cf364584">souffle::clone</a></div><div class="ttdeci">auto clone(const std::vector&lt; A *&gt; &amp;xs)</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00166">ContainerUtil.h:166</a></div></div>
<div class="ttc" id="json11_8h_html_ae46bd26d7133dfe98f8cec7c5ac5c7a1"><div class="ttname"><a href="json11_8h.html#ae46bd26d7133dfe98f8cec7c5ac5c7a1">i</a></div><div class="ttdeci">size_t i</div><div class="ttdef"><b>Definition:</b> <a href="json11_8h_source.html#l00663">json11.h:663</a></div></div>
<div class="ttc" id="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_html_aa4fbffffbeda35f409562c1e32b4e6f8"><div class="ttname"><a href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#aa4fbffffbeda35f409562c1e32b4e6f8">souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer::relationsToIgnore</a></div><div class="ttdeci">std::set&lt; QualifiedName &gt; relationsToIgnore</div><div class="ttdef"><b>Definition:</b> <a href="_magic_set_8h_source.html#l00225">MagicSet.h:225</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_abb423f140403e34a6dad53750c28678d_cgraph.png" border="0" usemap="#classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_abb423f140403e34a6dad53750c28678d_cgraph" alt=""/></div>
<map name="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_abb423f140403e34a6dad53750c28678d_cgraph" id="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_abb423f140403e34a6dad53750c28678d_cgraph">
<area shape="rect" id="node2" href="classsouffle_1_1ast_1_1_binding_store.html#ab4e6155afcf06e3bf222533621196a41" title="Mark the given variable as strongly bound. " alt="" coords="261,56,447,97"/>
<area shape="rect" id="node4" href="namespacesouffle.html#af3295dd83a588d612cf777e600beac4a" title="A utility to check generically whether a given element is contained in a given container. " alt="" coords="970,97,1099,123"/>
<area shape="rect" id="node6" href="classsouffle_1_1ast_1_1_binding_store.html#a8f9aae9db61973c4f8e515036dc21e16" title="Mark the given variable as weakly bound. " alt="" coords="261,392,447,433"/>
<area shape="rect" id="node7" href="namespacesouffle.html#a1dd578fbaf92e67ee52ebdd8cf364584" title="souffle::clone" alt="" coords="299,458,409,485"/>
<area shape="rect" id="node8" href="classsouffle_1_1ast_1_1_atom.html#a48b2afc7e3e22611a93b42f0089342d8" title="Return arguments. " alt="" coords="752,283,889,324"/>
<area shape="rect" id="node10" href="classsouffle_1_1ast_1_1_clause.html#a199bb0fc53e3f9980967d67b8dfb68a5" title="Obtains a copy of the internally maintained body literals. " alt="" coords="514,341,661,383"/>
<area shape="rect" id="node11" href="classsouffle_1_1ast_1_1_clause.html#aa14e0157716ca749fd1416c597f2f839" title="Obtains the execution plan associated to this clause or null if there is none. " alt="" coords="281,509,427,551"/>
<area shape="rect" id="node12" href="classsouffle_1_1ast_1_1_clause.html#a92a6ca9ea20fe63f074d597d81d07c08" title="Return the atom that represents the head of the clause. " alt="" coords="281,575,427,616"/>
<area shape="rect" id="node13" href="classsouffle_1_1ast_1_1_atom.html#ab9a22c7f862012f074559a4061696241" title="Return qualified name. " alt="" coords="280,640,428,681"/>
<area shape="rect" id="node14" href="classsouffle_1_1ast_1_1_binding_store.html#ac7d39b94794fce0a63e1d0ebb7bd455a" title="Check if a variable is bound. " alt="" coords="261,224,447,265"/>
<area shape="rect" id="node3" href="classsouffle_1_1ast_1_1_binding_store.html#a9437db80e5dd371034346c6f5e834a98" title="Reduce the full set of dependencies for all tracked variables, binding whatever needs to be bound..." alt="" coords="495,56,680,97"/>
<area shape="rect" id="node5" href="classsouffle_1_1ast_1_1_binding_store.html#a756367f4c817ffaceb0f309cd33f2688" title="Reduce a conjunctive set of dependencies based on the current bound variable set. ..." alt="" coords="728,5,913,47"/>
<area shape="rect" id="node9" href="namespacesouffle.html#ad62d4e824a9d74c7462da546a21780fe" title="A utility function enabling the creation of a vector of pointers. " alt="" coords="961,319,1108,346"/>
<area shape="rect" id="node15" href="classsouffle_1_1ast_1_1_binding_store.html#a8a84cac2f0593a4739c56dcc75a1f99c" title="Counts the number of bound arguments in the given atom. " alt="" coords="495,224,680,265"/>
<area shape="rect" id="node16" href="namespacesouffle_1_1test.html#a10453085bc4f71f32dcda443d4b3c446" title="souffle::test::count" alt="" coords="749,231,892,258"/>
</map>
</div>

</div>
</div>
<a id="afce17ca53a83425e2a7e2fcb48011f28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afce17ca53a83425e2a7e2fcb48011f28">&#9670;&nbsp;</a></span>clone()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html">AdornDatabaseTransformer</a>* souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer::clone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classsouffle_1_1ast_1_1transform_1_1_transformer.html#a0fa9b23c1d9568a3115147a85f89ed68">souffle::ast::transform::Transformer</a>.</p>

<p class="definition">Definition at line <a class="el" href="_magic_set_8h_source.html#l00213">213</a> of file <a class="el" href="_magic_set_8h_source.html">MagicSet.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                                                     {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="namespacesouffle_1_1ast_1_1transform.html#a7d908952faae4b89b6b4a4118c6e435d">AdornDatabaseTransformer</a>();</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    }</div><div class="ttc" id="namespacesouffle_1_1ast_1_1transform_html_a7d908952faae4b89b6b4a4118c6e435d"><div class="ttname"><a href="namespacesouffle_1_1ast_1_1transform.html#a7d908952faae4b89b6b4a4118c6e435d">souffle::ast::transform::AdornDatabaseTransformer</a></div><div class="ttdeci">MagicSetTransformer::AdornDatabaseTransformer AdornDatabaseTransformer</div><div class="ttdef"><b>Definition:</b> <a href="_magic_set_8cpp_source.html#l00054">MagicSet.cpp:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a959ff85116ffe0675fa074db9c6570ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a959ff85116ffe0675fa074db9c6570ba">&#9670;&nbsp;</a></span>getAdornmentID()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsouffle_1_1ast_1_1_qualified_name.html">QualifiedName</a> souffle::ast::transform::AdornDatabaseTransformer::getAdornmentID </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classsouffle_1_1ast_1_1_qualified_name.html">QualifiedName</a> &amp;&#160;</td>
          <td class="paramname"><em>relName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>adornmentMarker</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the unique identifier corresponding to an adorned predicate. </p>

<p class="definition">Definition at line <a class="el" href="_magic_set_8cpp_source.html#l00507">507</a> of file <a class="el" href="_magic_set_8cpp_source.html">MagicSet.cpp</a>.</p>

<p class="reference">References <a class="el" href="_qualified_name_8h_source.html#l00045">souffle::ast::QualifiedName::append()</a>.</p>
<div class="fragment"><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                                                                        {</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">if</span> (adornmentMarker == <span class="stringliteral">&quot;&quot;</span>) <span class="keywordflow">return</span> relName;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    QualifiedName adornmentID(relName);</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    std::stringstream adornmentMarkerRepr;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    adornmentMarkerRepr &lt;&lt; <span class="stringliteral">&quot;{&quot;</span> &lt;&lt; adornmentMarker &lt;&lt; <span class="stringliteral">&quot;}&quot;</span>;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    adornmentID.append(adornmentMarkerRepr.str());</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="keywordflow">return</span> adornmentID;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;}</div></div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_a959ff85116ffe0675fa074db9c6570ba_cgraph.png" border="0" usemap="#classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_a959ff85116ffe0675fa074db9c6570ba_cgraph" alt=""/></div>
<map name="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_a959ff85116ffe0675fa074db9c6570ba_cgraph" id="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_a959ff85116ffe0675fa074db9c6570ba_cgraph">
<area shape="rect" id="node2" href="classsouffle_1_1ast_1_1_qualified_name.html#a2196d7ab8b2fcaf081de81803351f7ed" title="append qualifiers " alt="" coords="261,20,460,61"/>
</map>
</div>

</div>
</div>
<a id="a4cd10cb73eace892d3b4ee133e867d0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cd10cb73eace892d3b4ee133e867d0b">&#9670;&nbsp;</a></span>getName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer::getName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classsouffle_1_1ast_1_1transform_1_1_transformer.html#a69dfaf1387c8b03440b352ff7eebae4e">souffle::ast::transform::Transformer</a>.</p>

<p class="definition">Definition at line <a class="el" href="_magic_set_8h_source.html#l00209">209</a> of file <a class="el" href="_magic_set_8h_source.html">MagicSet.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                                       {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;AdornDatabaseTransformer&quot;</span>;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a58b67a81848bf026578a66d19c602179"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58b67a81848bf026578a66d19c602179">&#9670;&nbsp;</a></span>hasAdornmentToProcess()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer::hasAdornmentToProcess </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if any more relations need to be adorned. </p>

<p class="definition">Definition at line <a class="el" href="_magic_set_8h_source.html#l00242">242</a> of file <a class="el" href="_magic_set_8h_source.html">MagicSet.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                                       {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordflow">return</span> !<a class="code" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a5f0234f544130428a4d7d234e96e1686">headAdornmentsToDo</a>.empty();</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    }</div><div class="ttc" id="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_html_a5f0234f544130428a4d7d234e96e1686"><div class="ttname"><a href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a5f0234f544130428a4d7d234e96e1686">souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer::headAdornmentsToDo</a></div><div class="ttdeci">std::set&lt; adorned_predicate &gt; headAdornmentsToDo</div><div class="ttdef"><b>Definition:</b> <a href="_magic_set_8h_source.html#l00220">MagicSet.h:220</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8f911275a3c48b13a0ab2dfe92b39f2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f911275a3c48b13a0ab2dfe92b39f2a">&#9670;&nbsp;</a></span>nextAdornmentToProcess()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#aef63f4fb7a27cc8fff68ec23b1a1b20b">adorned_predicate</a> souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer::nextAdornmentToProcess </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pop off the next predicate adornment to process. </p>

<p class="definition">Definition at line <a class="el" href="_magic_set_8h_source.html#l00247">247</a> of file <a class="el" href="_magic_set_8h_source.html">MagicSet.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                                               {</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        assert(<a class="code" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a58b67a81848bf026578a66d19c602179">hasAdornmentToProcess</a>() &amp;&amp; <span class="stringliteral">&quot;no adornment to pop&quot;</span>);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="keyword">auto</span> headAdornment = *(<a class="code" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a5f0234f544130428a4d7d234e96e1686">headAdornmentsToDo</a>.begin());</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <a class="code" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a5f0234f544130428a4d7d234e96e1686">headAdornmentsToDo</a>.erase(<a class="code" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a5f0234f544130428a4d7d234e96e1686">headAdornmentsToDo</a>.begin());</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="keywordflow">return</span> headAdornment;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    }</div><div class="ttc" id="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_html_a58b67a81848bf026578a66d19c602179"><div class="ttname"><a href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a58b67a81848bf026578a66d19c602179">souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer::hasAdornmentToProcess</a></div><div class="ttdeci">bool hasAdornmentToProcess() const</div><div class="ttdoc">Check if any more relations need to be adorned. </div><div class="ttdef"><b>Definition:</b> <a href="_magic_set_8h_source.html#l00242">MagicSet.h:242</a></div></div>
<div class="ttc" id="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_html_a5f0234f544130428a4d7d234e96e1686"><div class="ttname"><a href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a5f0234f544130428a4d7d234e96e1686">souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer::headAdornmentsToDo</a></div><div class="ttdeci">std::set&lt; adorned_predicate &gt; headAdornmentsToDo</div><div class="ttdef"><b>Definition:</b> <a href="_magic_set_8h_source.html#l00220">MagicSet.h:220</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a91474ac54d4c06edd4e9c356754be64d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91474ac54d4c06edd4e9c356754be64d">&#9670;&nbsp;</a></span>queueAdornment()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer::queueAdornment </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classsouffle_1_1ast_1_1_qualified_name.html">QualifiedName</a> &amp;&#160;</td>
          <td class="paramname"><em>relName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>adornmentMarker</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add an adornment to the ToDo queue if it hasn't been processed before. </p>

<p class="definition">Definition at line <a class="el" href="_magic_set_8h_source.html#l00233">233</a> of file <a class="el" href="_magic_set_8h_source.html">MagicSet.h</a>.</p>

<p class="reference">References <a class="el" href="_container_util_8h_source.html#l00069">souffle::contains()</a>.</p>
<div class="fragment"><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                                                                                        {</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <span class="keyword">auto</span> adornmentID = <a class="code" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a959ff85116ffe0675fa074db9c6570ba">getAdornmentID</a>(relName, adornmentMarker);</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="namespacesouffle.html#af3295dd83a588d612cf777e600beac4a">contains</a>(<a class="code" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a1186d30e31d9c8d4d9ddc094cbc3d309">headAdornmentsSeen</a>, adornmentID)) {</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            <a class="code" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a5f0234f544130428a4d7d234e96e1686">headAdornmentsToDo</a>.insert(std::make_pair(relName, adornmentMarker));</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            <a class="code" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a1186d30e31d9c8d4d9ddc094cbc3d309">headAdornmentsSeen</a>.insert(adornmentID);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        }</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    }</div><div class="ttc" id="namespacesouffle_html_af3295dd83a588d612cf777e600beac4a"><div class="ttname"><a href="namespacesouffle.html#af3295dd83a588d612cf777e600beac4a">souffle::contains</a></div><div class="ttdeci">bool contains(const C &amp;container, const typename C::value_type &amp;element)</div><div class="ttdoc">A utility to check generically whether a given element is contained in a given container. </div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00069">ContainerUtil.h:69</a></div></div>
<div class="ttc" id="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_html_a959ff85116ffe0675fa074db9c6570ba"><div class="ttname"><a href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a959ff85116ffe0675fa074db9c6570ba">souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer::getAdornmentID</a></div><div class="ttdeci">static QualifiedName getAdornmentID(const QualifiedName &amp;relName, const std::string &amp;adornmentMarker)</div><div class="ttdoc">Get the unique identifier corresponding to an adorned predicate. </div><div class="ttdef"><b>Definition:</b> <a href="_magic_set_8cpp_source.html#l00507">MagicSet.cpp:507</a></div></div>
<div class="ttc" id="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_html_a5f0234f544130428a4d7d234e96e1686"><div class="ttname"><a href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a5f0234f544130428a4d7d234e96e1686">souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer::headAdornmentsToDo</a></div><div class="ttdeci">std::set&lt; adorned_predicate &gt; headAdornmentsToDo</div><div class="ttdef"><b>Definition:</b> <a href="_magic_set_8h_source.html#l00220">MagicSet.h:220</a></div></div>
<div class="ttc" id="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_html_a1186d30e31d9c8d4d9ddc094cbc3d309"><div class="ttname"><a href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a1186d30e31d9c8d4d9ddc094cbc3d309">souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer::headAdornmentsSeen</a></div><div class="ttdeci">std::set&lt; QualifiedName &gt; headAdornmentsSeen</div><div class="ttdef"><b>Definition:</b> <a href="_magic_set_8h_source.html#l00221">MagicSet.h:221</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_a91474ac54d4c06edd4e9c356754be64d_cgraph.png" border="0" usemap="#classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_a91474ac54d4c06edd4e9c356754be64d_cgraph" alt=""/></div>
<map name="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_a91474ac54d4c06edd4e9c356754be64d_cgraph" id="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_a91474ac54d4c06edd4e9c356754be64d_cgraph">
<area shape="rect" id="node2" href="namespacesouffle.html#af3295dd83a588d612cf777e600beac4a" title="A utility to check generically whether a given element is contained in a given container. " alt="" coords="261,27,391,54"/>
</map>
</div>

</div>
</div>
<a id="a7efe0a44a1d0e6ca5c14dc2e7dcc799d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7efe0a44a1d0e6ca5c14dc2e7dcc799d">&#9670;&nbsp;</a></span>transform()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool souffle::ast::transform::AdornDatabaseTransformer::transform </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsouffle_1_1ast_1_1_translation_unit.html">TranslationUnit</a> &amp;&#160;</td>
          <td class="paramname"><em>translationUnit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classsouffle_1_1ast_1_1transform_1_1_transformer.html#af861b2e661819fa1038829fede6e1c4f">souffle::ast::transform::Transformer</a>.</p>

<p class="definition">Definition at line <a class="el" href="_magic_set_8cpp_source.html#l00618">618</a> of file <a class="el" href="_magic_set_8cpp_source.html">MagicSet.cpp</a>.</p>

<p class="reference">References <a class="el" href="_program_8cpp_source.html#l00054">souffle::ast::Program::addClause()</a>, <a class="el" href="_program_8cpp_source.html#l00035">souffle::ast::Program::addRelation()</a>, <a class="el" href="_container_util_8h_source.html#l00166">souffle::clone()</a>, <a class="el" href="ast_2_translation_unit_8h_source.html#l00054">souffle::ast::TranslationUnit::getAnalysis()</a>, <a class="el" href="_utils_8cpp_source.html#l00070">souffle::ast::getClauses()</a>, <a class="el" href="_magic_set_8cpp_source.html#l00062">souffle::ast::transform::MagicSetTransformer::getIgnoredRelations()</a>, <a class="el" href="ast_2_translation_unit_8h_source.html#l00078">souffle::ast::TranslationUnit::getProgram()</a>, <a class="el" href="_utils_8cpp_source.html#l00094">souffle::ast::getRelation()</a>, <a class="el" href="ast_2_program_8h_source.html#l00060">souffle::ast::Program::getRelations()</a>, and <a class="el" href="_program_8cpp_source.html#l00060">souffle::ast::Program::removeClause()</a>.</p>
<div class="fragment"><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                                                                         {</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    Program&amp; program = translationUnit.getProgram();</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; ioTypes = *translationUnit.getAnalysis&lt;analysis::IOTypeAnalysis&gt;();</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <a class="code" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#aa4fbffffbeda35f409562c1e32b4e6f8">relationsToIgnore</a> = <a class="code" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer.html#a89baab5fc4d088e9d147553782372c63">getIgnoredRelations</a>(translationUnit);</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="comment">// Output relations trigger the adornment process</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>* rel : program.getRelations()) {</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <span class="keywordflow">if</span> (ioTypes.isOutput(rel) || ioTypes.isPrintSize(rel)) {</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            <a class="code" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a91474ac54d4c06edd4e9c356754be64d">queueAdornment</a>(rel-&gt;getQualifiedName(), <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        }</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    }</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="comment">// Keep going while there&#39;s things to adorn</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a58b67a81848bf026578a66d19c602179">hasAdornmentToProcess</a>()) {</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="comment">// Pop off the next head adornment to do</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; [relName, adornmentMarker] = <a class="code" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a8f911275a3c48b13a0ab2dfe92b39f2a">nextAdornmentToProcess</a>();</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <span class="comment">// Add the adorned relation if needed</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <span class="keywordflow">if</span> (adornmentMarker != <span class="stringliteral">&quot;&quot;</span>) {</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span>* rel = <a class="code" href="namespacesouffle_1_1ast.html#af59ed6a7c649aec10999baea2f2c8b35">getRelation</a>(program, relName);</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            assert(rel != <span class="keyword">nullptr</span> &amp;&amp; <span class="stringliteral">&quot;relation does not exist&quot;</span>);</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            <span class="keyword">auto</span> adornedRelation = mk&lt;Relation&gt;(<a class="code" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a959ff85116ffe0675fa074db9c6570ba">getAdornmentID</a>(relName, adornmentMarker));</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>* attr : rel-&gt;getAttributes()) {</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                adornedRelation-&gt;addAttribute(<a class="code" href="namespacesouffle.html#a1dd578fbaf92e67ee52ebdd8cf364584">souffle::clone</a>(attr));</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            }</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            program.addRelation(std::move(adornedRelation));</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        }</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        <span class="comment">// Adorn every clause correspondingly</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>* clause : <a class="code" href="namespacesouffle_1_1ast.html#a4aa067ee069beebb52dff5ee7250fc5f">getClauses</a>(program, relName)) {</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            <span class="keywordflow">if</span> (adornmentMarker == <span class="stringliteral">&quot;&quot;</span>) {</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                <a class="code" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a7edd5be961e62ac31723c9affbbf9e58">redundantClauses</a>.push_back(<a class="code" href="namespacesouffle.html#a1dd578fbaf92e67ee52ebdd8cf364584">souffle::clone</a>(clause));</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            }</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            <span class="keyword">auto</span> adornedClause = <a class="code" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#abb423f140403e34a6dad53750c28678d">adornClause</a>(clause, adornmentMarker);</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            <a class="code" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a74098563eb90e3c42d0d7002cf6fa609">adornedClauses</a>.push_back(std::move(adornedClause));</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        }</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    }</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="comment">// Swap over the redundant clauses with the adorned clauses</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; clause : <a class="code" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a7edd5be961e62ac31723c9affbbf9e58">redundantClauses</a>) {</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        program.removeClause(clause.get());</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    }</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; clause : <a class="code" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a74098563eb90e3c42d0d7002cf6fa609">adornedClauses</a>) {</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        program.addClause(<a class="code" href="namespacesouffle.html#a1dd578fbaf92e67ee52ebdd8cf364584">souffle::clone</a>(clause));</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    }</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="keywordflow">return</span> !adornedClauses.empty() || !redundantClauses.empty();</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;}</div><div class="ttc" id="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_html_a959ff85116ffe0675fa074db9c6570ba"><div class="ttname"><a href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a959ff85116ffe0675fa074db9c6570ba">souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer::getAdornmentID</a></div><div class="ttdeci">static QualifiedName getAdornmentID(const QualifiedName &amp;relName, const std::string &amp;adornmentMarker)</div><div class="ttdoc">Get the unique identifier corresponding to an adorned predicate. </div><div class="ttdef"><b>Definition:</b> <a href="_magic_set_8cpp_source.html#l00507">MagicSet.cpp:507</a></div></div>
<div class="ttc" id="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_html_a91474ac54d4c06edd4e9c356754be64d"><div class="ttname"><a href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a91474ac54d4c06edd4e9c356754be64d">souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer::queueAdornment</a></div><div class="ttdeci">void queueAdornment(const QualifiedName &amp;relName, const std::string &amp;adornmentMarker)</div><div class="ttdoc">Add an adornment to the ToDo queue if it hasn&amp;#39;t been processed before. </div><div class="ttdef"><b>Definition:</b> <a href="_magic_set_8h_source.html#l00233">MagicSet.h:233</a></div></div>
<div class="ttc" id="namespacesouffle_html_a1dd578fbaf92e67ee52ebdd8cf364584"><div class="ttname"><a href="namespacesouffle.html#a1dd578fbaf92e67ee52ebdd8cf364584">souffle::clone</a></div><div class="ttdeci">auto clone(const std::vector&lt; A *&gt; &amp;xs)</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00166">ContainerUtil.h:166</a></div></div>
<div class="ttc" id="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_html_a7edd5be961e62ac31723c9affbbf9e58"><div class="ttname"><a href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a7edd5be961e62ac31723c9affbbf9e58">souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer::redundantClauses</a></div><div class="ttdeci">VecOwn&lt; Clause &gt; redundantClauses</div><div class="ttdef"><b>Definition:</b> <a href="_magic_set_8h_source.html#l00224">MagicSet.h:224</a></div></div>
<div class="ttc" id="namespacesouffle_1_1ast_html_af59ed6a7c649aec10999baea2f2c8b35"><div class="ttname"><a href="namespacesouffle_1_1ast.html#af59ed6a7c649aec10999baea2f2c8b35">souffle::ast::getRelation</a></div><div class="ttdeci">Relation * getRelation(const Program &amp;program, const QualifiedName &amp;name)</div><div class="ttdoc">Returns the relation with the given name in the program. </div><div class="ttdef"><b>Definition:</b> <a href="_utils_8cpp_source.html#l00094">Utils.cpp:94</a></div></div>
<div class="ttc" id="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_html_a74098563eb90e3c42d0d7002cf6fa609"><div class="ttname"><a href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a74098563eb90e3c42d0d7002cf6fa609">souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer::adornedClauses</a></div><div class="ttdeci">VecOwn&lt; Clause &gt; adornedClauses</div><div class="ttdef"><b>Definition:</b> <a href="_magic_set_8h_source.html#l00223">MagicSet.h:223</a></div></div>
<div class="ttc" id="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_html_abb423f140403e34a6dad53750c28678d"><div class="ttname"><a href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#abb423f140403e34a6dad53750c28678d">souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer::adornClause</a></div><div class="ttdeci">Own&lt; Clause &gt; adornClause(const Clause *clause, const std::string &amp;adornmentMarker)</div><div class="ttdoc">Returns the adorned version of a clause. </div><div class="ttdef"><b>Definition:</b> <a href="_magic_set_8cpp_source.html#l00517">MagicSet.cpp:517</a></div></div>
<div class="ttc" id="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_html_a58b67a81848bf026578a66d19c602179"><div class="ttname"><a href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a58b67a81848bf026578a66d19c602179">souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer::hasAdornmentToProcess</a></div><div class="ttdeci">bool hasAdornmentToProcess() const</div><div class="ttdoc">Check if any more relations need to be adorned. </div><div class="ttdef"><b>Definition:</b> <a href="_magic_set_8h_source.html#l00242">MagicSet.h:242</a></div></div>
<div class="ttc" id="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_html_aa4fbffffbeda35f409562c1e32b4e6f8"><div class="ttname"><a href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#aa4fbffffbeda35f409562c1e32b4e6f8">souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer::relationsToIgnore</a></div><div class="ttdeci">std::set&lt; QualifiedName &gt; relationsToIgnore</div><div class="ttdef"><b>Definition:</b> <a href="_magic_set_8h_source.html#l00225">MagicSet.h:225</a></div></div>
<div class="ttc" id="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_html_a89baab5fc4d088e9d147553782372c63"><div class="ttname"><a href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer.html#a89baab5fc4d088e9d147553782372c63">souffle::ast::transform::MagicSetTransformer::getIgnoredRelations</a></div><div class="ttdeci">static std::set&lt; QualifiedName &gt; getIgnoredRelations(const TranslationUnit &amp;tu)</div><div class="ttdoc">Gets set of relations to ignore during the MST process. </div><div class="ttdef"><b>Definition:</b> <a href="_magic_set_8cpp_source.html#l00062">MagicSet.cpp:62</a></div></div>
<div class="ttc" id="namespacesouffle_1_1ast_html_a4aa067ee069beebb52dff5ee7250fc5f"><div class="ttname"><a href="namespacesouffle_1_1ast.html#a4aa067ee069beebb52dff5ee7250fc5f">souffle::ast::getClauses</a></div><div class="ttdeci">std::vector&lt; Clause * &gt; getClauses(const Program &amp;program, const QualifiedName &amp;relationName)</div><div class="ttdoc">Returns a vector of clauses in the program describing the relation with the given name...</div><div class="ttdef"><b>Definition:</b> <a href="_utils_8cpp_source.html#l00070">Utils.cpp:70</a></div></div>
<div class="ttc" id="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_html_a8f911275a3c48b13a0ab2dfe92b39f2a"><div class="ttname"><a href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#a8f911275a3c48b13a0ab2dfe92b39f2a">souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer::nextAdornmentToProcess</a></div><div class="ttdeci">adorned_predicate nextAdornmentToProcess()</div><div class="ttdoc">Pop off the next predicate adornment to process. </div><div class="ttdef"><b>Definition:</b> <a href="_magic_set_8h_source.html#l00247">MagicSet.h:247</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_a7efe0a44a1d0e6ca5c14dc2e7dcc799d_cgraph.png" border="0" usemap="#classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_a7efe0a44a1d0e6ca5c14dc2e7dcc799d_cgraph" alt=""/></div>
<map name="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_a7efe0a44a1d0e6ca5c14dc2e7dcc799d_cgraph" id="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer_a7efe0a44a1d0e6ca5c14dc2e7dcc799d_cgraph">
<area shape="rect" id="node2" href="classsouffle_1_1ast_1_1_program.html#a6e242189a740536f24b73c7d2440636a" title="Add a clause. " alt="" coords="271,5,428,47"/>
<area shape="rect" id="node3" href="classsouffle_1_1ast_1_1_program.html#a0b0ce5dd1c7904f562e6840dc9d117a9" title="souffle::ast::Program\l::addRelation" alt="" coords="271,71,428,112"/>
<area shape="rect" id="node6" href="classsouffle_1_1ast_1_1_program.html#a89bc64ed82fbb346ff8fcb922386c196" title="Return relations. " alt="" coords="512,128,669,169"/>
<area shape="rect" id="node8" href="namespacesouffle.html#a1dd578fbaf92e67ee52ebdd8cf364584" title="souffle::clone" alt="" coords="295,505,404,531"/>
<area shape="rect" id="node9" href="classsouffle_1_1ast_1_1_translation_unit.html#a19431bc77b4a4e05d5a24e7b3807703d" title="get analysis: analysis is generated on the fly if not present " alt="" coords="504,296,677,337"/>
<area shape="rect" id="node12" href="namespacesouffle_1_1ast.html#a4aa067ee069beebb52dff5ee7250fc5f" title="Returns a vector of clauses in the program describing the relation with the given name..." alt="" coords="503,194,678,221"/>
<area shape="rect" id="node14" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer.html#a89baab5fc4d088e9d147553782372c63" title="Gets set of relations to ignore during the MST process. " alt="" coords="266,374,433,430"/>
<area shape="rect" id="node18" href="classsouffle_1_1ast_1_1_translation_unit.html#a8f0d6c64ddd338b8a9372a63d950b45c" title="Return the program. " alt="" coords="504,841,677,883"/>
<area shape="rect" id="node25" href="namespacesouffle_1_1ast.html#af59ed6a7c649aec10999baea2f2c8b35" title="Returns the relation with the given name in the program. " alt="" coords="261,137,437,163"/>
<area shape="rect" id="node26" href="classsouffle_1_1ast_1_1_program.html#a2d97408e345d7b58598a90f655eb49fd" title="Remove a clause. " alt="" coords="271,556,428,597"/>
<area shape="rect" id="node4" href="namespacesouffle.html#a62f80c157a6a365d78a43592732a8efa" title="Returns the first element in a container that satisfies a given predicate, nullptr otherwise..." alt="" coords="539,77,643,103"/>
<area shape="rect" id="node5" href="classsouffle_1_1ast_1_1_relation.html#aec7a180cc23c066453f1e97e9957ccfe" title="Get qualified relation name. " alt="" coords="513,11,668,52"/>
<area shape="rect" id="node7" href="namespacesouffle.html#ad62d4e824a9d74c7462da546a21780fe" title="A utility function enabling the creation of a vector of pointers. " alt="" coords="961,165,1108,191"/>
<area shape="rect" id="node10" href="classsouffle_1_1_debug_report.html#ac0feb8780d23c2ca5d7700e4857b10c4" title="souffle::DebugReport\l::addSection" alt="" coords="749,296,908,337"/>
<area shape="rect" id="node11" href="classsouffle_1_1_global.html#a2dcb257b0f98d0b882862427cc965640" title="souffle::Global::config" alt="" coords="747,387,910,414"/>
<area shape="rect" id="node13" href="classsouffle_1_1ast_1_1_program.html#a529839d448f4139ce2e4e87bcfe3201f" title="Return clauses. " alt="" coords="750,187,907,228"/>
<area shape="rect" id="node15" href="namespacesouffle.html#af3295dd83a588d612cf777e600beac4a" title="A utility to check generically whether a given element is contained in a given container. " alt="" coords="526,463,655,490"/>
<area shape="rect" id="node16" href="classsouffle_1_1ast_1_1_intrinsic_functor.html#a7a3d9099620a867dbedf7990903dc7c0" title="Get function information. " alt="" coords="490,515,691,556"/>
<area shape="rect" id="node17" href="classsouffle_1_1ast_1_1_binary_constraint.html#a4754227050fac00fea834edec17b6862" title="Return binary operator. " alt="" coords="485,645,696,687"/>
<area shape="rect" id="node19" href="classsouffle_1_1ast_1_1_atom.html#ab9a22c7f862012f074559a4061696241" title="Return qualified name. " alt="" coords="517,711,665,752"/>
<area shape="rect" id="node20" href="classsouffle_1_1ast_1_1_qualified_name.html#a3f497c99ea877f1bb52422ce8ccb2761" title="get qualifiers " alt="" coords="491,776,690,817"/>
<area shape="rect" id="node21" href="namespacesouffle.html#a673608e9453179d30f6607384f54463a" title="Splits a string given a delimiter. " alt="" coords="521,362,661,389"/>
<area shape="rect" id="node22" href="namespacesouffle_1_1ast.html#a0bf6b9bdf0a8866bd27dde18442ab43d" title="A utility function visiting all nodes within the ast rooted by the given node recursively in a depth&#45;..." alt="" coords="506,580,675,621"/>
<area shape="rect" id="node23" href="namespacesouffle_1_1ast.html#a5a45867d4cbfd053ffd30af4b4e1dd9e" title="A utility function visiting all nodes within the ast rooted by the given node recursively in a depth&#45;..." alt="" coords="744,580,913,621"/>
<area shape="rect" id="node24" href="classsouffle_1_1ast_1_1_node.html#a332720bacd0c374ab8ff3977f0d00210" title="Obtain a list of all embedded AST child nodes. " alt="" coords="967,580,1103,621"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a id="a74098563eb90e3c42d0d7002cf6fa609"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74098563eb90e3c42d0d7002cf6fa609">&#9670;&nbsp;</a></span>adornedClauses</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesouffle.html#a55306936a26a282cf03c7876fcf23494">VecOwn</a>&lt;<a class="el" href="classsouffle_1_1ast_1_1_clause.html">Clause</a>&gt; souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer::adornedClauses</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_magic_set_8h_source.html#l00223">223</a> of file <a class="el" href="_magic_set_8h_source.html">MagicSet.h</a>.</p>

</div>
</div>
<a id="a1186d30e31d9c8d4d9ddc094cbc3d309"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1186d30e31d9c8d4d9ddc094cbc3d309">&#9670;&nbsp;</a></span>headAdornmentsSeen</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="classsouffle_1_1ast_1_1_qualified_name.html">QualifiedName</a>&gt; souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer::headAdornmentsSeen</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_magic_set_8h_source.html#l00221">221</a> of file <a class="el" href="_magic_set_8h_source.html">MagicSet.h</a>.</p>

</div>
</div>
<a id="a5f0234f544130428a4d7d234e96e1686"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f0234f544130428a4d7d234e96e1686">&#9670;&nbsp;</a></span>headAdornmentsToDo</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="classsouffle_1_1ast_1_1transform_1_1_magic_set_transformer_1_1_adorn_database_transformer.html#aef63f4fb7a27cc8fff68ec23b1a1b20b">adorned_predicate</a>&gt; souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer::headAdornmentsToDo</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_magic_set_8h_source.html#l00220">220</a> of file <a class="el" href="_magic_set_8h_source.html">MagicSet.h</a>.</p>

</div>
</div>
<a id="a7edd5be961e62ac31723c9affbbf9e58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7edd5be961e62ac31723c9affbbf9e58">&#9670;&nbsp;</a></span>redundantClauses</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesouffle.html#a55306936a26a282cf03c7876fcf23494">VecOwn</a>&lt;<a class="el" href="classsouffle_1_1ast_1_1_clause.html">Clause</a>&gt; souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer::redundantClauses</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_magic_set_8h_source.html#l00224">224</a> of file <a class="el" href="_magic_set_8h_source.html">MagicSet.h</a>.</p>

</div>
</div>
<a id="aa4fbffffbeda35f409562c1e32b4e6f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4fbffffbeda35f409562c1e32b4e6f8">&#9670;&nbsp;</a></span>relationsToIgnore</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="classsouffle_1_1ast_1_1_qualified_name.html">QualifiedName</a>&gt; souffle::ast::transform::MagicSetTransformer::AdornDatabaseTransformer::relationsToIgnore</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_magic_set_8h_source.html#l00225">225</a> of file <a class="el" href="_magic_set_8h_source.html">MagicSet.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>ast/transform/<a class="el" href="_magic_set_8h_source.html">MagicSet.h</a></li>
<li>ast/transform/<a class="el" href="_magic_set_8cpp_source.html">MagicSet.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
